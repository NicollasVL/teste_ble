# ğŸ® Guia RÃ¡pido - Painel de Controle P TORK ONE BT

## ğŸ“ Onde Encontrar o Painel

O painel de controle aparece **automaticamente** quando vocÃª conecta a um dispositivo **P TORK** ou **TORK**.

---

## ğŸš€ Como Usar

### **Passo 1: Conectar ao Dispositivo**

1. Abra o app
2. Clique em **"Start Scan"**
3. Encontre **"P TORK ONE BT"** na lista
4. Clique em **"Connect"**

âœ… **O painel de controle aparecerÃ¡ automaticamente!**

---

### **Passo 2: Trocar o Mapa**

O painel mostra 7 botÃµes coloridos (Mapas 0-6):

| BotÃ£o | Cor | DescriÃ§Ã£o |
|-------|-----|-----------|
| MAP 0 (Z) | âšª Branco | MÃ­nimo |
| MAP 1 (A) | ğŸ”µ Turquesa | Baixo |
| MAP 2 (B) | ğŸŸ¢ Verde | Moderado |
| MAP 3 (C) | ğŸŸ¢ Lima | MÃ©dio |
| MAP 4 (D) | ğŸŸ¡ Amarelo | Alto |
| MAP 5 (E) | ğŸŸ  Laranja | Muito Alto |
| MAP 6 (F) | ğŸ”´ Vermelho | MÃ¡ximo |

**Para trocar:**
1. Clique no botÃ£o do mapa desejado
2. Aguarde confirmaÃ§Ã£o "Mapa X ativado!"
3. O mapa selecionado terÃ¡ uma borda preta grossa e um âœ“

---

### **Passo 3: Monitorar PressÃ£o**

O painel mostra a pressÃ£o em tempo real em dois formatos:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      1,5        â”‚  â† PressÃ£o em Kgf/cmÂ²
â”‚     Kgf/cmÂ²     â”‚
â”‚                 â”‚
â”‚    1.471005     â”‚  â† PressÃ£o em Bar
â”‚      Bar        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

A pressÃ£o Ã© **atualizada automaticamente** quando o pedal envia dados.

---

### **Passo 4: Ver Dados em Tempo Real**

A seÃ§Ã£o **"Dados em Tempo Real"** mostra:

- **ğŸ”” Monitorando**: Status da conexÃ£o
- **Bytes**: Dados recebidos em decimal `[1, 2, 3, 4, 5, ...]`
- **Hex**: Dados recebidos em hexadecimal `01 02 03 04 05 ...`

**BotÃ£o "ğŸ”„ Ler"**: ForÃ§a leitura manual dos dados

---

### **Passo 5: AÃ§Ãµes RÃ¡pidas**

TrÃªs botÃµes de atalho:

| BotÃ£o | AÃ§Ã£o |
|-------|------|
| ğŸ Resetar (Mapa 0) | Volta para o mapa inicial |
| ğŸ”¥ MÃ¡ximo (Mapa 6) | Ativa potÃªncia mÃ¡xima |
| â„¹ï¸ Atualizar Info | Recarrega informaÃ§Ãµes do dispositivo |

---

## ğŸ” Estrutura do Painel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“± Dispositivo                     â”‚
â”‚  â”œâ”€ P TORK ONE BT                   â”‚
â”‚  â”œâ”€ Modelo: Model Number            â”‚
â”‚  â”œâ”€ Firmware: Firmware Revision     â”‚
â”‚  â””â”€ â— Conectado                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ—ºï¸ Selecionar Mapa                 â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”          â”‚
â”‚  â”‚ 0 â”‚ â”‚ 1 â”‚ â”‚ 2 â”‚ â”‚ 3 â”‚          â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜          â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                â”‚
â”‚  â”‚ 4 â”‚ â”‚ 5 â”‚ â”‚ 6 â”‚                â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸšï¸ PressÃ£o Atual                   â”‚
â”‚        1,5 Kgf/cmÂ²                  â”‚
â”‚      1.471005 Bar                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Dados em Tempo Real             â”‚
â”‚  Bytes: [1, 2, 3, 4, 5, ...]        â”‚
â”‚  Hex: 01 02 03 04 05 ...            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš¡ AÃ§Ãµes RÃ¡pidas                   â”‚
â”‚  [ ğŸ Resetar (Mapa 0)       ]      â”‚
â”‚  [ ğŸ”¥ MÃ¡ximo (Mapa 6)        ]      â”‚
â”‚  [ â„¹ï¸ Atualizar Info         ]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Dicas

### **1. Mapa nÃ£o mudou?**
- Verifique se o dispositivo estÃ¡ conectado
- Aguarde 1-2 segundos apÃ³s clicar
- Tente clicar novamente

### **2. PressÃ£o mostra 0,0?**
- Normal se o pedal nÃ£o estiver sendo pressionado
- A pressÃ£o atualiza quando vocÃª pressiona o pedal
- Se nÃ£o atualizar, clique em "ğŸ”„ Ler"

### **3. Dados nÃ£o aparecem?**
- Verifique se estÃ¡ "ğŸ”” Monitorando"
- Se mostrar "ğŸ”• NÃ£o monitorando", desconecte e reconecte
- Clique em "ğŸ”„ Ler" para forÃ§ar leitura

### **4. Como saber qual mapa estÃ¡ ativo?**
- O mapa ativo tem borda preta grossa
- TambÃ©m tem um âœ“ no canto superior direito
- O texto mostra: "Selecionado: Mapa X (Byte: XX)"

---

## ğŸ“± LocalizaÃ§Ã£o no CÃ³digo

- **Componente**: `components/PTorkControlPanel.tsx`
- **IntegraÃ§Ã£o**: `components/BLEScreen.tsx` (linha ~234)
- **CondiÃ§Ã£o**: Aparece se `device.name` contÃ©m "P TORK" ou "TORK"

---

## ğŸ”§ PersonalizaÃ§Ã£o

### **Mudar Cores dos Mapas**
Edite `utils/MapConverter.ts`:
```typescript
export function ReturnColorPiggyInputByte(map: number): string {
  const colors: Record<number, string> = {
    20: '#FFFFFF', // Branco - MUDE AQUI
    21: '#40E0D0', // Turquesa
    // ...
  };
}
```

### **Adicionar Mais Mapas**
Edite `utils/MapConverter.ts`:
```typescript
export function getAllMaps(): GasMap[] {
  return [0, 1, 2, 3, 4, 5, 6, 7, 8]; // Adicione mais
}
```

### **Mudar Layout**
Edite `components/PTorkControlPanel.tsx` seÃ§Ã£o `styles`

---

## ğŸ¯ Fluxo Completo de Uso

```
1. Abrir App
   â†“
2. "Start Scan"
   â†“
3. Encontrar "P TORK ONE BT"
   â†“
4. "Connect"
   â†“
5. âœ… PAINEL APARECE AUTOMATICAMENTE
   â†“
6. Selecionar Mapa (clicar no botÃ£o)
   â†“
7. âœ… Mapa ativado no pedal
   â†“
8. Pressionar pedal â†’ PressÃ£o atualiza
   â†“
9. "Disconnect" quando terminar
```

---

## ğŸ› Troubleshooting

| Problema | SoluÃ§Ã£o |
|----------|---------|
| Painel nÃ£o aparece | Verifique se o nome do dispositivo contÃ©m "TORK" |
| Mapas nÃ£o mudam | Verifique conexÃ£o e tente "Disconnect" + "Connect" |
| PressÃ£o nÃ£o atualiza | Pressione o pedal fisicamente |
| Erro ao trocar mapa | Aguarde device estar totalmente conectado (3s) |
| Dados em branco | Clique em "ğŸ”„ Ler" |

---

## ğŸ“š Recursos Relacionados

- **Mapas**: `GUIA_MAP_CONVERTER.md`
- **UUIDs**: `GUIA_CONFIG_PTORK.md`
- **ServiÃ§o BLE**: `BLUETOOTH_SERVICE_README.md`
- **CÃ³digo**: `components/PTorkControlPanel.tsx`

---

## âœ¨ Exemplo de Uso Real

```
CenÃ¡rio: Pilotar em pista molhada
â”œâ”€ SituaÃ§Ã£o: Precisa de controle suave
â”œâ”€ AÃ§Ã£o: Selecionar Mapa 2 (Verde - Moderado)
â””â”€ Resultado: Pedal mais suave, melhor controle

CenÃ¡rio: Ultrapassagem em reta
â”œâ”€ SituaÃ§Ã£o: Precisa de potÃªncia mÃ¡xima
â”œâ”€ AÃ§Ã£o: Selecionar Mapa 6 (Vermelho - MÃ¡ximo)
â””â”€ Resultado: AceleraÃ§Ã£o total

CenÃ¡rio: Economia de combustÃ­vel
â”œâ”€ SituaÃ§Ã£o: Trajeto longo, economizar
â”œâ”€ AÃ§Ã£o: Selecionar Mapa 0 (Branco - MÃ­nimo)
â””â”€ Resultado: Menor consumo
```

---

ğŸ‰ **Pronto! Agora vocÃª sabe usar o Painel de Controle do P TORK ONE BT!**
